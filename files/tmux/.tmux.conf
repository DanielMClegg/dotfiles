# Helpful source: http://www.hamvocke.com/blog/a-guide-to-customizing-your-tmux-conf/

# force a reload of the config file
unbind r
bind r source-file ~/.tmux.conf

# colors
# http://www.nerdyweekly.com/posts/enable-italic-text-vim-tmux-gnome-terminal/
set -g default-terminal "xterm-256color-italic"

# overrides default terminal
# See: ~/.terminfo/xterm-256color-italic.terminfo
# Source: http://homeonrails.com/2016/05/truecolor-in-gnome-terminal-tmux-and-neovim/
#
# $ tmux
# $ tmux set-option -ga terminal-overrides ",xterm-256color-italic:Tc"
# $ tmux detach
# $ tmux attach
# $ tmux info | grep Tc
#
# Otherwise restart terminal
set-option -ga terminal-overrides ",xterm-256color-italic:Tc"

# status bar config
set -g status-left "#(~/bin/host.sh)  #h: [#S] "
set -g status-left-length 50
set -g status-right-length 70
set -g status-right "| #(~/bin/external-ip.sh) | #(~/bin/tmux-battery.py) | üñ´  #(~/bin/cpu-load.py) | ‚è≤  %H:%M %d-%m-%Y"

# Get available colours with following script:
#
# #!/usr/bin/env bash
# for i in {0..255} ; do
#     printf "\x1b[38;5;${i}mcolour${i}\n"
# done

# attr options:
# dim, bright, default

# statusbar format selected window
setw -g window-status-current-format " #I: #W "

# status bar selected window colours
set-window-option -g window-status-current-bg colour117
set-window-option -g window-status-current-fg colour237
# set-window-option -g window-status-current-bg colour229
set-window-option -g window-status-current-attr default
set-window-option -g automatic-rename off

# status bar unselected window
setw -g window-status-format " #I: #W "

# statusbar unselected window colours
set-option -g status-bg colour237
set-option -g status-fg colour250 #colour229
set-option -g status-attr default

# pane border colours
set-option -g pane-border-fg colour237
set-option -g pane-active-border-fg colour240

# window mode
# setw -g mode-bg colour6
# setw -g mode-fg colour0

# listen to alerts from all windows
set -g bell-action any
# set-option -g visual-activity off
# set-option -g visual-bell off
# set-option -g visual-silence off
# set-window-option -g monitor-activity off

# alerting colours
setw -g window-status-bell-attr bold
setw -g window-status-bell-fg colour9
setw -g window-status-bell-bg default

# messaging
# set -g message-fg black
# set -g message-bg yellow
# set -g message-command-fg blue
# set -g message-command-bg black

# vim movement bindings
set -g mode-keys vi
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# more vim like copy/paste
unbind [
bind Escape copy-mode
unbind p
bind p paste-buffer
bind-key -Tcopy-mode-vi 'v' send -X begin-selection
bind-key -Tcopy-mode-vi 'y' send -X copy-selection

# resize panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# No delay for escape key press
set -s escape-time 0
